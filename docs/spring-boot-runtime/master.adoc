include::topics/templates/document-attributes.adoc[]
//override for a cleaner TOC
:toclevels: 2
:spring-boot:

= {spring-boot-runtime-guide-name}
:runtime: {SpringBoot}
//var for front-end topics, if below is defined in topic, its used in docs, if not its used in the front end
:docs-topic:

:context: spring-boot

This guide covers concepts as well as practical details needed by developers to use the {SpringBoot} runtime. It provides information governing the design of a {SpringBoot} application deployed as a Linux container on OpenShift.

include::topics/con_springboot-runtime-details.adoc[leveloffset=+1]

include::topics/ref_springboot-tested-and-verified-version.adoc[leveloffset=+2]

include::topics/con_springboot-features-and-frameworks-summary.adoc[leveloffset=+2]

// Missions
include::topics/con_missions-and-cloud-native-development-on-openshift.adoc[leveloffset=+1]

[[spring-boot-available-missions-and-boosters]]
== Available Missions and Boosters for {SpringBoot}

The following boosters are available for {SpringBoot}.


// REST API
:context: rest-api
:parameter-runtime: spring-boot
include::topics/assembly_http-api-mission-booster.adoc[leveloffset=+2]


// CONFIGMAP
[[mission-configmap-spring-boot]]
=== {mission-configmap-spring-boot-guide-name}
:configmap-spring-boot:
:context: configmap

include::topics/configmap-mission-intro-paragraph.adoc[leveloffset=+3]

This mission shows you how to:

* Set up and configure a `ConfigMap`.
* Use the configuration provided by the `ConfigMap` within an application.
* Deploy changes to the `ConfigMap` configuration of running applications.

include::topics/con_about-externalized-configuration.adoc[leveloffset=+3]

include::topics/note-preview-booster-source.adoc[leveloffset=+3]

include::topics/con_configmap-design-tradeoffs.adoc[leveloffset=+3]

:parameter-mission-name: {name-mission-configmap}
:parameter-mission: configmap
include::topics/assembly_deploying-the-booster-to-openshiftonline.adoc[leveloffset=+3]

include::topics/assembly_deploying-the-booster-to-openshiftlocal.adoc[leveloffset=+3]

include::topics/proc_deploying-the-booster-to-openshiftcontainerplatform.adoc[leveloffset=+3]

include::topics/configmap-mission-basic-interaction-spring-boot.adoc[leveloffset=+3]
:parameter-mission: configmap

include::topics/proc_running-the-booster-integration-tests.adoc[leveloffset=+3]
:parameter-mission-name: {name-mission-configmap}

include::topics/ref_configmap-resources.adoc[leveloffset=+3]

:configmap-spring-boot!:


// CRUD
[[mission-crud-spring-boot]]
=== {mission-crud-spring-boot-guide-name}
:crud-spring-boot-mission:
:context: crud

include::topics/note-booster-unvailable-oso.adoc[leveloffset=+3]

:parameter-mission-name: {name-mission-crud}
include::topics/crud-mission-intro.adoc[leveloffset=+3]
:parameter-mission-name!:

include::topics/note-preview-booster-source.adoc[leveloffset=+3]

include::topics/con_crud-design-tradeoffs.adoc[leveloffset=+3]

include::topics/assembly_deploying-the-booster-to-openshiftonline.adoc[leveloffset=+3]

include::topics/assembly_deploying-the-booster-to-openshiftlocal.adoc[leveloffset=+3]

include::topics/proc_deploying-the-booster-to-openshiftcontainerplatform.adoc[leveloffset=+3]

include::topics/crud-mission-database-interaction.adoc[leveloffset=+3]

include::topics/proc_running-the-booster-integration-tests.adoc[leveloffset=+3]

include::topics/ref_relational-database-resources.adoc[leveloffset=+3]

:crud-spring-boot-mission!:


// HEALTH CHECK
[[mission-health-check-spring-boot]]
=== {mission-health-check-spring-boot-guide-name}
:health-check-spring-boot:
:context: health-check

include::topics/health-check-mission-intro-paragraph.adoc[leveloffset=+3]

NOTE: If you are not familiar with the health check terminology, see the xref:health-check-concepts_{context}[] section first.

The purpose of this use case is to demonstrate the health check pattern through the use of probing. Probing is used to report the liveness and readiness of an application. In this use case, you configure an application which exposes an HTTP `health` endpoint to issue HTTP requests. If the container is alive, according to the liveness probe on the `health` HTTP endpoint, the management platform receives `200` as return code and no further action is required. If the `health` HTTP endpoint does not return a response, for example if the thread is blocked, then the application is not considered alive according to the liveness probe. In that case, the platform kills the pod corresponding to that application and recreates a new pod to restart the application.

This use case also allows you to demonstrate and use a readiness probe. In cases where the application is running but is unable to handle requests, such as when the application returns an HTTP `503` response code during restart, this application is not considered ready according to the readiness probe. If the application is not considered ready by the readiness probe, requests are not routed to that application until it is considered ready according to the readiness probe.

include::topics/con_health-check-concepts.adoc[leveloffset=+3]

include::topics/note-preview-booster-source.adoc[leveloffset=+3]

:parameter-mission-name: {name-mission-health-check}
:parameter-mission: health-check

include::topics/assembly_deploying-the-booster-to-openshiftonline.adoc[leveloffset=+3]

include::topics/assembly_deploying-the-booster-to-openshiftlocal.adoc[leveloffset=+3]

include::topics/proc_deploying-the-booster-to-openshiftcontainerplatform.adoc[leveloffset=+3]
:parameter-mission!:

include::topics/health-check-mission-basic-interaction-spring-boot.adoc[leveloffset=+3]
:parameter-mission-name: {name-mission-health-check}

include::topics/proc_running-the-booster-integration-tests.adoc[leveloffset=+3]

include::topics/ref_health-check-resources.adoc[leveloffset=+3]

:health-check-spring-boot!:


// CIRCUIT BREAKER
[[mission-circuit-breaker-spring-boot]]
=== {mission-circuit-breaker-spring-boot-guide-name}
:circuit-breaker-spring-boot:
:context: circuit-breaker

include::topics/note-booster-unvailable-oso.adoc[leveloffset=+3]

include::topics/circuit-breaker-mission-intro-paragraph.adoc[leveloffset=+3]

This mission shows you how to implement a Circuit Breaker and Fallback pattern in your services.

include::topics/con_about-circuit-breaker.adoc[leveloffset=+3]

include::topics/note-preview-booster-source.adoc[leveloffset=+3]

include::topics/con_circuit-breaker-design-tradeoffs.adoc[leveloffset=+3]

:parameter-mission-name: {name-mission-circuit-breaker}
:parameter-mission: circuit-breaker
include::topics/assembly_deploying-the-booster-to-openshiftonline.adoc[leveloffset=+3]

include::topics/assembly_deploying-the-booster-to-openshiftlocal.adoc[leveloffset=+3]

include::topics/proc_deploying-the-booster-to-openshiftcontainerplatform.adoc[leveloffset=+3]
:parameter-mission!:

include::topics/proc_interacting-with-the-circuit-breaker-booster.adoc[leveloffset=+3]
:parameter-mission-name!:

include::topics/proc_running-the-booster-integration-tests.adoc[leveloffset=+3]

include::topics/circuit-breaker-mission-access-hystrix-dashboard-spring-boot.adoc[leveloffset=+3]

include::topics/ref_circuit-breaker-resources.adoc[leveloffset=+3]

:circuit-breaker-spring-boot!:


// SECURED
[[mission-rest-http-secured-spring-boot]]
=== {mission-secured-spring-boot-guide-name}
:secured-spring-boot-mission:
:runtime-name: {SpringBoot}
:context: secured

include::topics/note-booster-unvailable-oso.adoc[leveloffset=+3]

include::topics/secured-mission-intro-paragraph-missions.adoc[leveloffset=+3]

include::topics/note-preview-booster-source.adoc[leveloffset=+3]

include::topics/secured-mission-intro.adoc[leveloffset=+3]

include::topics/secured-mission-springboot-adapter.adoc[leveloffset=+4]

include::topics/assembly_deploying-the-secured-booster-to-openshiftlocal.adoc[leveloffset=+3]

include::topics/assembly_deploying-the-secured-booster-to-openshiftcontainerplatform.adoc[leveloffset=+3]

:parameter-runtime: spring-boot
include::topics/assembly_authenticating-to-the-secured-booster-api-endpoint.adoc[leveloffset=+3]

include::topics/proc_running-the-secured-booster-integration-tests-on-springboot.adoc[leveloffset=+3]
:parameter-runtime!:

include::topics/ref_secured-sso-resources.adoc[leveloffset=+3]

:secured-spring-boot-mission!:


// CACHING
[[mission-cache-spring-boot]]
=== {mission-cache-spring-boot-guide-name}
:cache-spring-boot:
:context: cache

include::topics/note-booster-unvailable-oso.adoc[leveloffset=+3]

Mission proficiency level: xref:proficiency_advanced[*{proficiency-advanced}*].

The {name-mission-cache} mission demonstrates how to use a cache to increase the response time of applications.

This mission shows you how to:

* Deploy a cache to OpenShift.
* Use a cache within an application.

include::topics/con_about-caching.adoc[leveloffset=+3]

include::topics/note-preview-booster-source.adoc[leveloffset=+3]

:parameter-mission-name: {name-mission-cache}
:parameter-mission: cache
include::topics/assembly_deploying-the-booster-to-openshiftonline.adoc[leveloffset=+3]

include::topics/assembly_deploying-the-booster-to-openshiftlocal.adoc[leveloffset=+3]
:parameter-mission!:

include::topics/proc_deploying-the-booster-to-openshiftcontainerplatform.adoc[leveloffset=+3]

include::topics/cache-mission-basic-interaction.adoc[leveloffset=+3]

include::topics/proc_running-the-booster-integration-tests.adoc[leveloffset=+3]
:parameter-mission-name!:

include::topics/ref_caching-resources.adoc[leveloffset=+3]

:cache-spring-boot!:

== Application Development
The recommended approach for specifying and using supported and tested maven artifacts in a {SpringBoot} application is to use the OpenShift Application Runtimes {SpringBoot} BOM.

//creating an app from scratch
// workaround to resolve ID conflicts:
:context: spring-boot
:parameter-runtime: spring-boot
include::topics/assembly_creating-a-basic-springboot-application.adoc[leveloffset=+2]
include::topics/proc_deploying-an-existing-application-to-openshift.adoc[leveloffset=+2]
:parameter-runtime!:
:!context:

== Debugging

This sections contains information about debugging your {SpringBoot}{ndash}based application both in local and remote deployments.

=== Remote Debugging
:context: remote-debugging

To remotely debug an application, you must first configure it to start in a debugging mode, and then attach a debugger to it.

include::topics/proc_starting-your-springboot-application-locally-in-debugging-mode.adoc[leveloffset=+3]

include::topics/proc_starting-an-uberjar-in-debugging-mode.adoc[leveloffset=+3]

:env-var-name: JAVA_DEBUG
:env-var-val: true
:port: 5005
:nodejs!:
include::topics/proc_starting-your-application-on-openshift-in-debugging-mode.adoc[leveloffset=+3]

include::topics/proc_attaching-a-remote-debugger-to-the-application.adoc[leveloffset=+3]


=== Debug Logging

include::topics/proc_add-debug-logging-on-springboot.adoc[leveloffset=+3]

include::topics/proc_accessing-debug-logs-on-localhost-on-springboot.adoc[leveloffset=+3]

:context: spring-boot
include::topics/proc_accessing-debug-logs-on-openshift.adoc[leveloffset=+3]

== Monitoring

This section contains information about monitoring your {SpringBoot}{ndash}based application running on OpenShift.

=== Accessing JVM metrics for your application on OpenShift

include::topics/proc_accessing-jvm-metrics-using-jolokia-on-openshift.adoc[leveloffset=+3]



//== Creating an Application from Scratch
//todo
//Building blocks
//Minimum Viable App
//Add-ons
//Building your app

[appendix]
include::topics/ref_the-source-to-image-s2i-build-process.adoc[leveloffset=+1]

[appendix]
include::topics/proc_updating-the-deployment-configuration-of-a-booster.adoc[leveloffset=+1]


[appendix]
include::topics/proc_deploying-a-springboot-application-using-war-files.adoc[leveloffset=+1]

//[appendix]
//include::topics/ref_breakdown-of-springboot-pom-components.adoc[leveloffset=+1]

[appendix]
include::topics/ref_additional-springboot-resources.adoc[leveloffset=+1]

[appendix]
include::topics/ref_application-development-resources.adoc[leveloffset=+1]

[appendix]
include::topics/ref_proficiency-levels.adoc[leveloffset=+1]

[appendix]
include::topics/ref_glossary.adoc[leveloffset=+1]
